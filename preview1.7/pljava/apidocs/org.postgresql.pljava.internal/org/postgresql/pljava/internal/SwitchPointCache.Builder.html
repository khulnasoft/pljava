<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (12.0.2) on Mon Aug 14 21:18:11 EDT 2023 -->
<title>SwitchPointCache.Builder (PL/Java backend Java code 1.7-SNAPSHOT)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-08-14">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SwitchPointCache.Builder (PL/Java backend Java code 1.7-SNAPSHOT)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SwitchPointCache.Builder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="moduleLabelInType">Module</span>&nbsp;<a href="../../../../module-summary.html">org.postgresql.pljava.internal</a></div>
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.postgresql.pljava.internal</a></div>
<h2 title="Class SwitchPointCache.Builder" class="title">Class SwitchPointCache.Builder&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.postgresql.pljava.internal.SwitchPointCache.Builder&lt;T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Enclosing class:</dt>
<dd><a href="SwitchPointCache.html" title="class in org.postgresql.pljava.internal">SwitchPointCache</a></dd>
</dl>
<hr>
<pre>public static class <span class="typeNameLabel">SwitchPointCache.Builder&lt;T&gt;</span>
extends <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block">Builder for use during the static initialization of a class that uses
 <code>SwitchPointCache</code>.
<p>
 The builder's constructor is passed information about the class, and
 about a <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/invoke/SwitchPoint.html?is-external=true" title="class or interface in java.lang.invoke" class="externalLink"><code>SwitchPoint</code></a> that will be used when the
 dependent values need to be invalidated. To accommodate invalidation
 schemes with different granularity, the <code>SwitchPoint</code> used may be
 kept in an instance field of the class, or in a static field and
 governing all instances of the class, or even somewhere else entirely
 and used for widespread or global invalidation.
<p>
 The builder's <a href="#withDependent(java.lang.String,int)"><code>withDependent</code></a> method is then used to
 declare each value that can be computed and cached in an instance of the
 class, by giving the name of a <em>static</em> method that computes the
 value (given one argument, an instance of the class) and functions to get
 and set a <code>MethodHandle</code>-typed per-instance slot where the
 computation result will be cached.
<p>
 Finally, the builder's <a href="#build()"><code>build</code></a> method returns
 a <code>Consumer&lt;T&gt;</code> that can be saved in a static final field and
 invoked in the object's constructor; it will initialize all of the new
 instance's fields that were declared in <code>withDependent</code> calls to
 their initial, uncomputed states.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.lang.Class)">Builder</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;<a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>&gt;&nbsp;c)</code></th>
<td class="colLast">
<div class="block">Create a builder that will be used to declare dependent values
 controlled by a single <code>SwitchPoint</code> and to create an
 initializer for the per-instance slots that will hold their states.</div>
</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/function/UnaryOperator.html?is-external=true" title="class or interface in java.util.function" class="externalLink">UnaryOperator</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/invoke/MethodHandle.html?is-external=true" title="class or interface in java.lang.invoke" class="externalLink">MethodHandle</a>[]&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#build()">build</a></span>()</code></th>
<td class="colLast">
<div class="block">Return a <code>UnaryOperator&lt;MethodHandle[]&gt;</code> to be invoked
 in the constructor of a client object, applied to a newly-allocated
 array of the right number of slots, which will initialize all of the
 array's elements with the corresponding fallback method handles
 and return the initialized array.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code><a href="SwitchPointCache.Builder.html" title="class in org.postgresql.pljava.internal">SwitchPointCache.Builder</a>&lt;<a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withCandidates(java.lang.reflect.Method%5B%5D)">withCandidates</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/reflect/Method.html?is-external=true" title="class or interface in java.lang.reflect" class="externalLink">Method</a>[]&nbsp;ms)</code></th>
<td class="colLast">
<div class="block">Supply the candidate methods to be available to subsequent
 <a href="#withDependent(java.lang.String,int)"><code>withDependent</code></a> calls.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code><a href="SwitchPointCache.Builder.html" title="class in org.postgresql.pljava.internal">SwitchPointCache.Builder</a>&lt;<a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withDependent(java.lang.String,int)">withDependent</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;methodName,
             int&nbsp;index)</code></th>
<td class="colLast">
<div class="block">Declare one dependent item that will be controlled by this builder's
 <code>SwitchPoint</code>.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code><a href="SwitchPointCache.Builder.html" title="class in org.postgresql.pljava.internal">SwitchPointCache.Builder</a>&lt;<a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withDescriber(java.util.function.Function)">withDescriber</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Function</a>&lt;? super <a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;&nbsp;describer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code><a href="SwitchPointCache.Builder.html" title="class in org.postgresql.pljava.internal">SwitchPointCache.Builder</a>&lt;<a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withLookup(java.lang.invoke.MethodHandles.Lookup)">withLookup</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html?is-external=true" title="class or interface in java.lang.invoke" class="externalLink">MethodHandles.Lookup</a>&nbsp;l)</code></th>
<td class="colLast">
<div class="block">Supply the <code>Lookup</code> object to be used in resolving dependent
 methods.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code><a href="SwitchPointCache.Builder.html" title="class in org.postgresql.pljava.internal">SwitchPointCache.Builder</a>&lt;<a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withReceiverType(java.lang.Class)">withReceiverType</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;?&gt;&nbsp;t)</code></th>
<td class="colLast">
<div class="block">Adjust the static receiver type of subsequently declared dependents.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code><a href="SwitchPointCache.Builder.html" title="class in org.postgresql.pljava.internal">SwitchPointCache.Builder</a>&lt;<a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withReturnType(java.lang.Class)">withReturnType</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;?&gt;&nbsp;t)</code></th>
<td class="colLast">
<div class="block">Adjust the static return type of subsequently declared dependents
 that return references.</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code><a href="SwitchPointCache.Builder.html" title="class in org.postgresql.pljava.internal">SwitchPointCache.Builder</a>&lt;<a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withSlots(java.util.function.Function)">withSlots</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Function</a>&lt;<a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/invoke/MethodHandle.html?is-external=true" title="class or interface in java.lang.invoke" class="externalLink">MethodHandle</a>[]&gt;&nbsp;slotGetter)</code></th>
<td class="colLast">
<div class="block">Supply a function mapping a receiver object instance to the
 per-instance <code>MethodHandle</code> array whose elements will be
 the slots.</div>
</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code><a href="SwitchPointCache.Builder.html" title="class in org.postgresql.pljava.internal">SwitchPointCache.Builder</a>&lt;<a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withSwitchPoint(java.util.function.Function)">withSwitchPoint</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Function</a>&lt;<a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/invoke/SwitchPoint.html?is-external=true" title="class or interface in java.lang.invoke" class="externalLink">SwitchPoint</a>&gt;&nbsp;spGetter)</code></th>
<td class="colLast">
<div class="block">Supply a function mapping a receiver object instance to the
 <code>SwitchPoint</code> to be associated with subsequently declared
 slots.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(java.lang.Class)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Builder</h4>
<pre>public&nbsp;Builder&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;<a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>&gt;&nbsp;c)</pre>
<div class="block">Create a builder that will be used to declare dependent values
 controlled by a single <code>SwitchPoint</code> and to create an
 initializer for the per-instance slots that will hold their states.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>c</code> - the class being configured by this Builder</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="withDescriber(java.util.function.Function)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withDescriber</h4>
<pre class="methodSignature">public&nbsp;<a href="SwitchPointCache.Builder.html" title="class in org.postgresql.pljava.internal">SwitchPointCache.Builder</a>&lt;<a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>&gt;&nbsp;withDescriber&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Function</a>&lt;? super <a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&gt;&nbsp;describer)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>describer</code> - function, with a signature like that of
 <code>Object.toString</code>, that will produce a useful description of
 the object if needed in an exception message. The default if this
 method is not called is <code>Object::toString</code>; a different
 describer can be supplied if the output of <code>toString</code> isn't
 well suited for an exception message. If null, any exception will
 have its bare constant message with nothing added about the specific
 receiver object.</dd>
</dl>
</li>
</ul>
<a id="withLookup(java.lang.invoke.MethodHandles.Lookup)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withLookup</h4>
<pre class="methodSignature">public&nbsp;<a href="SwitchPointCache.Builder.html" title="class in org.postgresql.pljava.internal">SwitchPointCache.Builder</a>&lt;<a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>&gt;&nbsp;withLookup&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html?is-external=true" title="class or interface in java.lang.invoke" class="externalLink">MethodHandles.Lookup</a>&nbsp;l)</pre>
<div class="block">Supply the <code>Lookup</code> object to be used in resolving dependent
 methods.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>l</code> - a <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html?is-external=true" title="class or interface in java.lang.invoke" class="externalLink"><code>Lookup</code></a> object obtained by the caller and
 able to introspect in the class</dd>
</dl>
</li>
</ul>
<a id="withCandidates(java.lang.reflect.Method[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withCandidates</h4>
<pre class="methodSignature">public&nbsp;<a href="SwitchPointCache.Builder.html" title="class in org.postgresql.pljava.internal">SwitchPointCache.Builder</a>&lt;<a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>&gt;&nbsp;withCandidates&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/reflect/Method.html?is-external=true" title="class or interface in java.lang.reflect" class="externalLink">Method</a>[]&nbsp;ms)</pre>
<div class="block">Supply the candidate methods to be available to subsequent
 <a href="#withDependent(java.lang.String,int)"><code>withDependent</code></a> calls.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ms</code> - array of methods such as the caller may obtain with
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Class.html?is-external=true#getDeclaredMethods()" title="class or interface in java.lang" class="externalLink"><code>getDeclaredMethods</code></a>, avoiding the
 access complications of having this class do it. The methods will be
 filtered to only those that are static with a non-void return type
 and exactly one parameter, assignable from the target class, and
 uniquely named within that set. Only such methods can be named in
 later <a href="#withDependent(java.lang.String,int)"><code>withDependent</code></a> calls. No reference to
 the array will be retained.</dd>
</dl>
</li>
</ul>
<a id="withSwitchPoint(java.util.function.Function)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withSwitchPoint</h4>
<pre class="methodSignature">public&nbsp;<a href="SwitchPointCache.Builder.html" title="class in org.postgresql.pljava.internal">SwitchPointCache.Builder</a>&lt;<a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>&gt;&nbsp;withSwitchPoint&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Function</a>&lt;<a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/invoke/SwitchPoint.html?is-external=true" title="class or interface in java.lang.invoke" class="externalLink">SwitchPoint</a>&gt;&nbsp;spGetter)</pre>
<div class="block">Supply a function mapping a receiver object instance to the
 <code>SwitchPoint</code> to be associated with subsequently declared
 slots.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>spGetter</code> - a function usable to fetch the SwitchPoint
 that controls this cache. It is passed an instance of T but need not
 use it (in the case, for example, of a single controlling SwitchPoint
 held in a static).</dd>
</dl>
</li>
</ul>
<a id="withSlots(java.util.function.Function)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withSlots</h4>
<pre class="methodSignature">public&nbsp;<a href="SwitchPointCache.Builder.html" title="class in org.postgresql.pljava.internal">SwitchPointCache.Builder</a>&lt;<a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>&gt;&nbsp;withSlots&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Function</a>&lt;<a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/invoke/MethodHandle.html?is-external=true" title="class or interface in java.lang.invoke" class="externalLink">MethodHandle</a>[]&gt;&nbsp;slotGetter)</pre>
<div class="block">Supply a function mapping a receiver object instance to the
 per-instance <code>MethodHandle</code> array whose elements will be
 the slots.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slotGetter</code> - a function usable to fetch the slot array
 for an instance.</dd>
</dl>
</li>
</ul>
<a id="withReturnType(java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withReturnType</h4>
<pre class="methodSignature">public&nbsp;<a href="SwitchPointCache.Builder.html" title="class in org.postgresql.pljava.internal">SwitchPointCache.Builder</a>&lt;<a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>&gt;&nbsp;withReturnType&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;?&gt;&nbsp;t)</pre>
<div class="block">Adjust the static return type of subsequently declared dependents
 that return references.
<p>
 This can be a more compact notation if compute methods or API methods
 from a superclass or subclass will be reused and the return type
 needs to be adjusted to match the static type in the API method
 (possibly erased from a generic type).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - Class to serve as the following dependents' static return
 type. Pass null to discontinue adjusting return types for following
 dependents.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if t represents a primitive type.</dd>
</dl>
</li>
</ul>
<a id="withReceiverType(java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withReceiverType</h4>
<pre class="methodSignature">public&nbsp;<a href="SwitchPointCache.Builder.html" title="class in org.postgresql.pljava.internal">SwitchPointCache.Builder</a>&lt;<a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>&gt;&nbsp;withReceiverType&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Class.html?is-external=true" title="class or interface in java.lang" class="externalLink">Class</a>&lt;?&gt;&nbsp;t)</pre>
<div class="block">Adjust the static receiver type of subsequently declared dependents.
<p>
 This can be a more compact notation if compute methods or API methods
 from a superclass or subclass will be reused and the receiver type
 needs to be adjusted to match the static type in the API method
 (possibly erased from a generic type).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - Class to serve as the following dependents' static receiver
 type. Pass null to discontinue adjusting receiver types for following
 dependents.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if t is neither a widening nor a
 narrowing of the receiver type specified for this builder.</dd>
</dl>
</li>
</ul>
<a id="build()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>build</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/function/UnaryOperator.html?is-external=true" title="class or interface in java.util.function" class="externalLink">UnaryOperator</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/invoke/MethodHandle.html?is-external=true" title="class or interface in java.lang.invoke" class="externalLink">MethodHandle</a>[]&gt;&nbsp;build()</pre>
<div class="block">Return a <code>UnaryOperator&lt;MethodHandle[]&gt;</code> to be invoked
 in the constructor of a client object, applied to a newly-allocated
 array of the right number of slots, which will initialize all of the
 array's elements with the corresponding fallback method handles
 and return the initialized array.
<p>
 The initializer can be used conveniently in a constructor that
 assigns the array to a final field, or calls a superclass constructor
 that does so, to arrange that the array's elements are written
 in advance of Java's freeze of the final array reference field.</div>
</li>
</ul>
<a id="withDependent(java.lang.String,int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>withDependent</h4>
<pre class="methodSignature">public&nbsp;<a href="SwitchPointCache.Builder.html" title="class in org.postgresql.pljava.internal">SwitchPointCache.Builder</a>&lt;<a href="SwitchPointCache.Builder.html" title="type parameter in SwitchPointCache.Builder">T</a>&gt;&nbsp;withDependent&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;methodName,
                                                 int&nbsp;index)</pre>
<div class="block">Declare one dependent item that will be controlled by this builder's
 <code>SwitchPoint</code>.
<p>
 An item is declared by naming the <em>static</em> method that can
 compute its value when needed, and the index into the per-instance
 <code>MethodHandle[]</code> "slots" array that will be used to cache the
 value. Typically, these will be private, and there will be an API
 method for retrieving the value, by fetching the method handle from
 the array index given here, and invoking it.
<p>
 The method handle that will be found in the named slot has a return
 type matching the compute method named here, and two parameters; it
 expects the receiver object as the first parameter, and itself as
 the second. So the typical API method is simply:
<pre>
 MethodHandle h = slots[MY_SLOT];
 return (cast)h.invokeExact(this, h);
</pre>
<p>
 When there is a cached value and the <code>SwitchPoint</code> has not been
 invalidated, the two arguments are ignored and the cached value
 is returned.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>methodName</code> - name of the static method that will be used to
 compute values for this item. It must be found among the methods
 that were passed to the Builder constructor, only considering those
 that are static, with a non-void return and one argument of
 the class type.</dd>
<dd><code>index</code> - index into the per-instance slot arrray where the cached
 state will be maintained.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SwitchPointCache.Builder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2003&#x2013;2023<a href='http://tada.se/eng/'>Tada AB</a></small></p>
</footer>
</body>
</html>
